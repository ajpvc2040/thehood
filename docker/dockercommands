//prepare mvn
export PATH=/Users/artemiojorgeamayahernandez/Documents/apache-maven-3.6.3/bin:$PATH

// clean and install
mvn clean install

// run app
java -jar thehood-0.0.1-SNAPSHOT.jar

// change directory
cd docker

// build the image
docker build -t thehood-api .

// list the image
docker images

// run the container
docker run -d -p 8080:8080 --name thehood thehood-api

// list the container
docker ps

// logs
docker logs thehood

// exec into running container
docker exec -it thehood /bin/sh

// login AWS ECR - docker for 12 hrs
aws ecr get-login-password --region us-east-2 | docker login --username AWS --password-stdin 665123843124.dkr.ecr.us-east-2.amazonaws.com

// create repository in AWS ECR
aws ecr create-repository \
    --repository-name thehood-api \
    --image-scanning-configuration scanOnPush=true \
    --region us-east-2

// tag docker image
docker tag thehood-api:latest 665123843124.dkr.ecr.us-east-2.amazonaws.com/thehood-api:latest

// push docker image to ECR
docker push 665123843124.dkr.ecr.us-east-2.amazonaws.com/thehood-api:latest

